!function(n){"use strict";function r(){var n,r=[],t=0,e=14,o=!1,u=["#F16745","#FFC65D","#7BC8A4","#4CC3D9","#93648D","#404040"];this.populateGrid=function(){for(var t=0;e>t;t+=1){r[t]=[];for(var o=0;e>o;o+=1)r[t].push(u[d(0,6)])}n=r[0][0]},this.ButtonColors=function(n){return n&&(u=n),u},this.CurrentColor=function(r){return r&&(n=r),n},this.NumberOfTurns=function(){return t},this.incrementTurns=function(){t+=1},this.BoardLength=function(){return e},this.GameBoard=function(){return r},this.checkForWin=function(){for(var n=r[0][0],u=0;e>u;u+=1)for(var a=0;e>a;a+=1)if(n!==r[u][a])return 25===t&&(alert("You have lost! I implore you to try again!"),o=!0),!1;return o=!0,!0},this.IsGameOver=function(n){return n&&(o=n),o},this.resetGame=function(){o=!1,t=0,this.populateGrid()}}function t(){e(),s.resetGame(),u()}function e(){var n,r,t,e;n=document.getElementById("controlPanel"),r=n.getElementsByTagName("button");for(var u=0;u<r.length;u+=1)t=r[u],t.addEventListener("click",o),t.style.background=s.ButtonColors()[u];e=document.getElementById("bottomPanel").getElementsByTagName("button")[0],e.addEventListener("click",function(){l()})}function o(){var r=n.getComputedStyle(this).getPropertyValue("background-color");r=m(r),s.IsGameOver()||s.CurrentColor()===r||(c(r),s.CurrentColor(r),s.incrementTurns(),a(),s.checkForWin()&&alert("You win! *High five*"))}function u(){var n,r,t,e=s.GameBoard();t=document.getElementById("gameboard");for(var o=0;o<s.BoardLength();o+=1){n=document.createElement("tr");for(var u=0;u<s.BoardLength();u+=1)r=document.createElement("td"),r.style.background=e[o][u],n.appendChild(r);t.appendChild(n)}}function a(){var n,r,t,e=document.getElementById("gameboard"),o=s.GameBoard();n=document.getElementById("controlPanel"),n.getElementsByTagName("span")[0].innerHTML="Turn: "+("0"+s.NumberOfTurns()).slice(-2)+"/ 25";for(var u=0;u<s.BoardLength();u+=1){r=e.childNodes[u];for(var a=0;a<s.BoardLength();a+=1)t=r.childNodes[a],t.style.background=o[u][a]}}function c(n){var r,t,e,o=[],u=[],a=s.GameBoard()[0][0];for(o.push({row:0,column:0});o.length>0;){r=o.pop(),u=i(r);for(var c in u)t=u[c].row,e=u[c].column,s.GameBoard()[t][e]===a&&o.push(u[c]);s.GameBoard()[r.row][r.column]=n}}function i(n){var r,t,e=[];for(var o in f)t=n.row+f[o].row,r=n.column+f[o].column,r>-1&&r<s.BoardLength()&&t>-1&&t<s.BoardLength()&&e.push({row:t,column:r});return e}function l(){s.resetGame(),a()}function d(n,r){return Math.floor(Math.random()*(r-n))+n}function m(n){function r(n){return("0"+parseInt(n).toString(16)).slice(-2)}return n=n.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),("#"+r(n[1])+r(n[2])+r(n[3])).toUpperCase()}var s=new r,f={up:{column:0,row:-1},down:{column:0,row:1},left:{column:-1,row:0},right:{column:1,row:0}};t()}(window);